{
  "title": "feat: implement role-based access control and fix login functionality",
  "head": "ai-grok-code-fast-1",
  "base": "main",
  "body": "## Summary\n\nThis PR implements role-based access control and fixes login functionality for the CineScope application.\n\n## Features Added\n\n### Authentication & Authorization\n- âœ… Role-based access control (admin/user roles)\n- âœ… JWT middleware for authentication and authorization\n- âœ… Admin user creation with proper bcrypt password hash\n- âœ… Refresh tokens table for token management\n\n### Movie Management\n- âœ… Movie creation functionality for all authenticated users\n- âœ… AddMoviePage with form validation and error handling\n- âœ… Enhanced movie service with proper API integration\n\n### Frontend Improvements\n- âœ… Fixed LoginPage with React state management\n- âœ… Updated routing and navigation\n- âœ… Add movie button for authenticated users\n- âœ… Proper error handling and loading states\n\n### Backend Improvements\n- âœ… Fixed API Gateway proxy configuration\n- âœ… Auth service returns proper JWT tokens\n- âœ… Updated database schema with role field\n- âœ… Enhanced error handling and logging\n\n## Bug Fixes\n\n- ðŸ”§ Fixed login issues with correct token response format\n- ðŸ”§ Resolved API Gateway proxy middleware problems\n- ðŸ”§ Fixed password hash issues in database\n- ðŸ”§ Corrected frontend form submission from GET to POST\n\n## Database Changes\n\n- Added `role` column to users table\n- Created refresh_tokens table\n- Inserted admin user with proper credentials\n\n## Testing\n\n- âœ… Admin login works with email: admin@cinescope.com, password: admin123\n- âœ… JWT tokens are generated and stored properly\n- âœ… Movie creation form validates and submits correctly\n- âœ… Role-based access control functions properly\n\n## Files Changed\n\n- 20 files changed, 724 insertions(+), 71 deletions(-)\n- 6 new files created\n\n## How to Test\n\n1. Start the application with `docker-compose up`\n2. Login with admin credentials: admin@cinescope.com / admin123\n3. Navigate to movies page and click \"Add movie\"\n4. Fill out the form and submit\n5. Verify the movie appears in the list"
}
